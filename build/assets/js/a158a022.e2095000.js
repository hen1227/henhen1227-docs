"use strict";(self.webpackChunkhenhen_1227_docs=self.webpackChunkhenhen_1227_docs||[]).push([[807],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>f});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=o.createContext({}),u=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},p=function(e){var t=u(e.components);return o.createElement(s.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},h=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),c=u(n),h=r,f=c["".concat(s,".").concat(h)]||c[h]||d[h]||i;return n?o.createElement(f,a(a({ref:t},p),{},{components:n})):o.createElement(f,a({ref:t},p))}));function f(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,a=new Array(i);a[0]=h;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[c]="string"==typeof e?e:r,a[1]=l;for(var u=2;u<i;u++)a[u]=n[u];return o.createElement.apply(null,a)}return o.createElement.apply(null,n)}h.displayName="MDXCreateElement"},3832:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>u});var o=n(7462),r=(n(7294),n(3905));const i={title:"Software Configuration"},a="Software Configuration",l={unversionedId:"hello-world/software-setup",id:"hello-world/software-setup",title:"Software Configuration",description:"Once the hardware is set up, the next crucial step is ensuring the software is correctly configured. This guide provides an overview of how to set up your Arduino sketch to communicate with the HM10 Bluetooth chip.",source:"@site/docs/hello-world/software-setup.md",sourceDirName:"hello-world",slug:"/hello-world/software-setup",permalink:"/docs/hello-world/software-setup",draft:!1,editUrl:"https://github.com/henhen1227/henhen1227-docs/edit/main/docs/hello-world/software-setup.md",tags:[],version:"current",frontMatter:{title:"Software Configuration"},sidebar:"bsDocsSidebar",previous:{title:"Hardware Setup",permalink:"/docs/hello-world/hardware-setup"},next:{title:"Trouble Shooting",permalink:"/docs/hello-world/trouble-shooting"}},s={},u=[{value:"Using the Built-in Serial Ports",id:"using-the-built-in-serial-ports",level:2},{value:"Using Software Serial Ports",id:"using-software-serial-ports",level:2},{value:"Example Sketch",id:"example-sketch",level:2},{value:"BluetoothSerial Connect Setup",id:"bluetoothserial-connect-setup",level:2},{value:"Wrapping Up",id:"wrapping-up",level:2}],p={toc:u},c="wrapper";function d(e){let{components:t,...n}=e;return(0,r.kt)(c,(0,o.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"software-configuration"},"Software Configuration"),(0,r.kt)("p",null,"Once the hardware is set up, the next crucial step is ensuring the software is correctly configured. This guide provides an overview of how to set up your Arduino sketch to communicate with the HM10 Bluetooth chip."),(0,r.kt)("h2",{id:"using-the-built-in-serial-ports"},"Using the Built-in Serial Ports"),(0,r.kt)("p",null,"Every standard Arduino board comes equipped with at least one hardware serial port. For example, on an Arduino Uno, the built-in Serial port uses pins 0 (Rx) and 1 (Tx). To use the built-in serial, you would typically use the ",(0,r.kt)("inlineCode",{parentName:"p"},"Serial")," keyword in your Arduino sketches. This is especially straightforward but can pose conflicts if these pins are otherwise engaged, say, during code upload."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-c++"},"#define blueSerial Serial1\n")),(0,r.kt)("p",null,"Note that some Arduino boards come equipped with multiple hardware serial ports, so make sure that you are using the same one that bluetooth module is connected to. "),(0,r.kt)("h2",{id:"using-software-serial-ports"},"Using Software Serial Ports"),(0,r.kt)("p",null,"For those who wish to use pins other than the default Rx and Tx for communication (or if you're using an Arduino with multiple serial ports), the SoftwareSerial library allows this. With this library, you can turn any digital pins into Rx and Tx."),(0,r.kt)("p",null,"To use SoftwareSerial, you'd define which pins you want to act as Rx and Tx:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-c++"},"#include <SoftwareSerial.h>\nSoftwareSerial blueSerial(2, 3);  // RX, TX\n")),(0,r.kt)("p",null,"In the above case, pin 2 would act as Rx and pin 3 as Tx."),(0,r.kt)("h2",{id:"example-sketch"},"Example Sketch"),(0,r.kt)("p",null,"Below is a complete example showing how to read data from the HM10 Bluetooth chip using the built-in Serial port:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-c++"},'/*\n   Hello_World.ino\n   Henry Abrahamsen\n   8/12/23\n   Simple code using the basic features of Bluetooth Serial\n   Details available at https://docs.henhen1227.com/\n*/\n\n#include <BluetoothSerial.h>\n\n#define bluetoothModuleSerial Serial1\n\n// Create a BluetoothSerial object\n// Serial port that the bluetooth module is connected\n// Verbose mode: true\nBluetoothSerial blueSerial(bluetoothModuleSerial, true);\n\nvoid setup() {\n  // Start communication with bluetooth device\n  bluetoothModuleSerial.begin(9600);\n  Serial.begin(9600);\n\n  Serial.println("Setup Complete");\n}\n\n\nvoid loop() {\n  blueSerial.readSerial();\n\n  // If the button with id `B0`\n  if (blueSerial.isButtonPressed(0)) {\n    Serial.println("The button `B0` has been pressed!");\n\n    // Send alert to the BluetoothSerial Connect App\n    blueSerial.sendAlert("Hello from the Arduino");\n  }\n\n  // Check if the Joystick with id `J0` has updated\n  if (blueSerial.isJoystickUpdated(0)) {\n      \n    // Get the Joystick object\n    BluetoothSerialJoystick joystick = blueSerial.getJoystick(0);\n\n    // Get the Joysticks rotation and magnitude\n    String rotation = String(joystick.getRotationDeg(), 0);\n    String magnitude = String(joystick.getMagnitude() * 100, 0); // As a percent %\n\n    /// String(a, 0) is the double a with 0 trailing zeros as a String\n\n    // Update the display inside the BluetoothSerial Connect App\n    blueSerial.setDisplay("Joystick: " + rotation + "deg, " + magnitude + "%", 0);\n  }\n}\n')),(0,r.kt)("p",null,"Make sure you've selected the right board and port in the Arduino IDE before uploading the sketch."),(0,r.kt)("h2",{id:"bluetoothserial-connect-setup"},"BluetoothSerial Connect Setup"),(0,r.kt)("p",null,"Download the latest version of the BluetoothSerial Connect app from the Apple App Store. Once you've opened the app, click ",(0,r.kt)("inlineCode",{parentName:"p"},"Connect Board"),' and select the Bluetooth device you wish to connect to. Add a "Hello Board" from ',(0,r.kt)("inlineCode",{parentName:"p"},"Example Boards"),"."),(0,r.kt)("h2",{id:"wrapping-up"},"Wrapping Up"),(0,r.kt)("p",null,"Software configuration is as crucial as the hardware setup. Properly configured software ensures that the messages sent via Bluetooth are accurately interpreted by your Arduino setup."))}d.isMDXComponent=!0}}]);